<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Form URL Selector</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        label, select, p { margin-bottom: 10px; display: block; }
        #urlDisplay { margin-top: 10px; font-weight: bold; color: blue; }
    </style>
</head>
<body>

<h2>Select a Form</h2>

<label for="dropdown">Choose an option:</label>
<select id="dropdown" onchange="showURL()">
    <option value="">--Select--</option>
</select>

<div id="urlDisplay" style="display:none;">
    <p>Here is your form URL:</p>
    <a href="#" id="formLink" target="_blank"></a>
</div>

<script>
    const dropdown = document.getElementById("dropdown");
    const formLink = document.getElementById("formLink");
    const urlDisplay = document.getElementById("urlDisplay");
    let formMap = {};

    // Load CSV
    fetch("signInMapping.csv")
        .then(response => response.text())
        .then(text => {
            const rows = text.trim().split("\n");
            for (let i = 1; i < rows.length; i++) { // skip header
                const [label, url] = rows[i].split(",");
                formMap[label] = url;
                const option = document.createElement("option");
                option.value = label;
                option.textContent = label;
                dropdown.appendChild(option);
            }
        });

    function showURL() {
        const selected = dropdown.value;
        if (formMap[selected]) {
            formLink.href = formMap[selected];
            formLink.textContent = formMap[selected];
            urlDisplay.style.display = "block";
        } else {
            urlDisplay.style.display = "none";
        }
    }
</script>

</body>
</html>
